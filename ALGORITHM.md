n# Алгоритм определения числителя и знаменателя в расписании

## Структура расписания

Расписание организовано в виде **блоков**, где каждый блок содержит две пары:

- **Верхняя пара** = **Числитель** (первая неделя)
- **Нижняя пара** = **Знаменатель** (вторая неделя)

## Правила определения

1. Расписание читается сверху вниз по дням недели
2. Каждый блок содержит две пары, расположенные друг под другом
3. Первая пара в блоке всегда относится к числителю
4. Вторая пара в блоке всегда относится к знаменателю

## Пример структуры блока

```
Блок 1:
├─ Пара 1 (верхняя) → Числитель
└─ Пара 2 (нижняя) → Знаменатель

Блок 2:
├─ Пара 3 (верхняя) → Числитель
└─ Пара 4 (нижняя) → Знаменатель
```

## Алгоритм парсинга

1. Найти все блоки в расписании (визуально разделенные группы пар)
2. Для каждого блока:
   - Взять первую пару → добавить в числитель
   - Взять вторую пару → добавить в знаменатель
3. Если в блоке только одна пара, она относится к числителю (или может быть общая для обеих недель)

## Особые случаи

- **"День самостоятельной работы"** - может быть как в числителе, так и в знаменателе, или в обоих
- Если пара указана без разделения на блоки, она относится к числителю
- Пары, которые повторяются в обоих неделях, должны быть продублированы в числителе и знаменателе

